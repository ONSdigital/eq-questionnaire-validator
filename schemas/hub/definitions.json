{
  "$id": "https://eq.ons.gov.uk/hub/definitions.json",
  "hub": {
    "type": "object",
    "properties": {
      "enabled": {
        "description": "Whether or not the hub and spoke pattern is enabled for this questionnaire.",
        "type": "boolean"
      },
      "required_completed_sections": {
        "description": "The sections that need to be complete prior to the hub displaying",
        "type": "array",
        "items": {
          "$ref": "https://eq.ons.gov.uk/common_definitions.json#/non_empty_string"
        }
      },
      "complete": {
        "type": "object",
        "properties": {
          "title": {
            "$ref": "https://eq.ons.gov.uk/common_definitions.json#/non_empty_string",
            "description": "The title that will appear on the hub, when the questionnaire is complete."
          },
          "guidance": {
            "$ref": "https://eq.ons.gov.uk/hub/definitions.json#/guidance"
          }
        },
        "anyOf": [
          {
            "required": ["guidance"]
          },
          {
            "required": ["title"]
          }
        ],
        "additionalProperties": false
      },
      "incomplete": {
        "type": "object",
        "properties": {
          "guidance": {
            "$ref": "https://eq.ons.gov.uk/hub/definitions.json#/guidance"
          }
        },
        "additionalProperties": false,
        "required": ["guidance"]
      },
      "submission": {
        "type": "object",
        "properties": {
          "button": {
            "$ref": "https://eq.ons.gov.uk/common_definitions.json#/non_empty_string",
            "description": "The text that appears on the submit button, when the questionnaire is ready to be submitted"
          },
          "guidance": {
            "$ref": "https://eq.ons.gov.uk/common_definitions.json#/non_empty_string",
            "description": "The text guidance that appears, when the questionnaire is ready to be submitted"
          }
        },
        "additionalProperties": false,
        "required": ["button"]
      }
    },
    "required": ["enabled"],
    "additionalProperties": false
  },
  "guidance": {
    "$ref": "https://eq.ons.gov.uk/common_definitions.json#/non_empty_string",
    "description": "The guidance that will appear on the hub"
  }
}
